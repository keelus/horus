!function(t, e) {
    "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.Pickr = e() : t.Pickr = e()
}(window, function() {
    return function(t) {
        var e = {};
        function o(n) {
            if (e[n])
                return e[n].exports;
            var r = e[n] = {
                i: n,
                l: !1,
                exports: {}
            };
            return t[n].call(r.exports, r, r.exports, o),
            r.l = !0,
            r.exports
        }
        return o.m = t,
        o.c = e,
        o.d = function(t, e, n) {
            o.o(t, e) || Object.defineProperty(t, e, {
                enumerable: !0,
                get: n
            })
        }
        ,
        o.r = function(t) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
                value: "Module"
            }),
            Object.defineProperty(t, "__esModule", {
                value: !0
            })
        }
        ,
        o.t = function(t, e) {
            if (1 & e && (t = o(t)),
            8 & e)
                return t;
            if (4 & e && "object" == typeof t && t && t.__esModule)
                return t;
            var n = Object.create(null);
            if (o.r(n),
            Object.defineProperty(n, "default", {
                enumerable: !0,
                value: t
            }),
            2 & e && "string" != typeof t)
                for (var r in t)
                    o.d(n, r, function(e) {
                        return t[e]
                    }
                    .bind(null, r));
            return n
        }
        ,
        o.n = function(t) {
            var e = t && t.__esModule ? function() {
                return t.default
            }
            : function() {
                return t
            }
            ;
            return o.d(e, "a", e),
            e
        }
        ,
        o.o = function(t, e) {
            return Object.prototype.hasOwnProperty.call(t, e)
        }
        ,
        o.p = "dist/",
        o(o.s = 8)
    }([function(t, e, o) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = Object.assign || function(t) {
            for (var e = 1; e < arguments.length; e++) {
                var o = arguments[e];
                for (var n in o)
                    Object.prototype.hasOwnProperty.call(o, n) && (t[n] = o[n])
            }
            return t
        }
        ;
        function r(t, e, o) {
            var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}
              , i = arguments[4] ? "removeEventListener" : "addEventListener";
            HTMLCollection.prototype.isPrototypeOf(t) || NodeList.prototype.isPrototypeOf(t) ? t = Array.from(t) : Array.isArray(t) || (t = [t]),
            Array.isArray(e) || (e = [e]);
            var a = !0
              , s = !1
              , u = void 0;
            try {
                for (var l, c = t[Symbol.iterator](); !(a = (l = c.next()).done); a = !0) {
                    var p = l.value
                      , h = !0
                      , f = !1
                      , v = void 0;
                    try {
                        for (var d, y = e[Symbol.iterator](); !(h = (d = y.next()).done); h = !0) {
                            var m = d.value;
                            p[i](m, o, n({
                                capture: !1
                            }, r))
                        }
                    } catch (t) {
                        f = !0,
                        v = t
                    } finally {
                        try {
                            !h && y.return && y.return()
                        } finally {
                            if (f)
                                throw v
                        }
                    }
                }
            } catch (t) {
                s = !0,
                u = t
            } finally {
                try {
                    !a && c.return && c.return()
                } finally {
                    if (s)
                        throw u
                }
            }
        }
        e.on = function(t, e, o) {
            var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
            r(t, e, o, n)
        }
        ,
        e.off = function(t, e, o) {
            var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
            r(t, e, o, n, !0)
        }
        ,
        e.createElementFromString = function(t) {
            var e = document.createElement("template");
            return e.innerHTML = t.trim(),
            e.content.firstChild
        }
        ,
        e.eventPath = function(t) {
            var e = t.path || t.composedPath && t.composedPath();
            if (e)
                return e;
            var o = t.target.parentElement;
            for (e = [t.target]; o; o = o.parentElement)
                e.push(o);
            return e.push(document, window),
            e
        }
        ,
        e.debounce = function(t, e, o) {
            var n = arguments
              , r = void 0;
            return function() {
                var i = !r;
                clearTimeout(r),
                r = setTimeout(function() {
                    r = null,
                    e.apply(t, arguments)
                }, o),
                i && e.apply(t, n)
            }
        }
    }
    , function(t, e, o) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
            return function(t, e) {
                if (Array.isArray(t))
                    return t;
                if (Symbol.iterator in Object(t))
                    return function(t, e) {
                        var o = []
                          , n = !0
                          , r = !1
                          , i = void 0;
                        try {
                            for (var a, s = t[Symbol.iterator](); !(n = (a = s.next()).done) && (o.push(a.value),
                            !e || o.length !== e); n = !0)
                                ;
                        } catch (t) {
                            r = !0,
                            i = t
                        } finally {
                            try {
                                !n && s.return && s.return()
                            } finally {
                                if (r)
                                    throw i
                            }
                        }
                        return o
                    }(t, e);
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            }
        }();
        function r(t) {
            if (Array.isArray(t)) {
                for (var e = 0, o = Array(t.length); e < t.length; e++)
                    o[e] = t[e];
                return o
            }
            return Array.from(t)
        }
        e.hsvToRgb = u,
        e.hsvToHex = function(t, e, o) {
            return u(t, e, o).map(function(t) {
                return t.toString(16).padStart(2, "0")
            })
        }
        ,
        e.hsvToCmyk = function(t, e, o) {
            var n = u(t, e, o)
              , r = n[0] / 255
              , s = n[1] / 255
              , l = n[2] / 255
              , c = void 0
              , p = void 0
              , h = void 0;
            return c = a(1 - r, 1 - s, 1 - l),
            p = 1 === c ? 0 : (1 - s - c) / (1 - c),
            h = 1 === c ? 0 : (1 - l - c) / (1 - c),
            [i(100 * (1 === c ? 0 : (1 - r - c) / (1 - c))), i(100 * p), i(100 * h), i(100 * c)]
        }
        ,
        e.hsvToHsl = function(t, e, o) {
            var n = (2 - (e /= 100)) * (o /= 100) / 2;
            0 !== n && (e = 1 === n ? 0 : n < .5 ? e * o / (2 * n) : e * o / (2 - 2 * n));
            return [i(t), i(100 * e), i(100 * n)]
        }
        ,
        e.parseToHSV = function(t) {
            var e = {
                cmyk: /^cmyk[^\d]+([0-9]+)[^\d]+([0-9]+)[^\d]+([0-9]+)[^\d]+([0-9]+)/i,
                rgba: /^(rgb|rgba)[^\d]+([0-9]+)[^\d]+([0-9]+)[^\d]+([0-9]+)[^\d]*([0-9.]+|)/i,
                hsla: /^(hsl|hsla)[^\d]+([0-9]+)[^\d]+([0-9]+)[^\d]+([0-9]+)[^\d]*([0-9.]+|)/i,
                hsva: /^(hsv|hsva)[^\d]+([0-9]+)[^\d]+([0-9]+)[^\d]+([0-9]+)[^\d]*([0-9.]+|)/i,
                hex: /^(#|)(([0-9A-Fa-f]{6})|([0-9A-Fa-f]{3}))$/i
            }
              , o = function(t) {
                return t.map(function(t) {
                    return /^(\d+|\d+\.\d+)$/.test(t) ? Number(t) : void 0
                })
            }
              , s = void 0;
            if (s = e.cmyk.exec(t)) {
                var u = o(s)
                  , c = n(u, 5)
                  , p = c[1]
                  , h = c[2]
                  , f = c[3]
                  , v = c[4];
                return p > 100 || h > 100 || f > 100 || v > 100 ? null : [].concat(r(function(t, e, o, n) {
                    e /= 100,
                    o /= 100;
                    var s = 1 - a(1, (t /= 100) * (1 - (n /= 100)) + n)
                      , u = 1 - a(1, e * (1 - n) + n)
                      , c = 1 - a(1, o * (1 - n) + n);
                    return s = i(255 * s),
                    u = i(255 * u),
                    c = i(255 * c),
                    [].concat(r(l(s, u, c)))
                }(p, h, f, v)), [1])
            }
            if (s = e.rgba.exec(t)) {
                var d = o(s)
                  , y = n(d, 6)
                  , m = y[2]
                  , g = y[3]
                  , b = y[4]
                  , w = y[5]
                  , k = void 0 === w ? 1 : w;
                return m > 255 || g > 255 || b > 255 || k < 0 || k > 1 ? null : [].concat(r(l(m, g, b)), [k])
            }
            if (s = e.hex.exec(t)) {
                var S = s
                  , _ = n(S, 3)
                  , O = _[2];
                return [].concat(r(function(t) {
                    3 === t.length && (t += t);
                    var e = t.match(/.{2}/g).map(function(t) {
                        return parseInt(t, 16)
                    })
                      , o = n(e, 3)
                      , r = o[0]
                      , i = o[1]
                      , a = o[2];
                    return l(r, i, a)
                }(O)), [1])
            }
            if (s = e.hsla.exec(t)) {
                var C = o(s)
                  , P = n(C, 6)
                  , A = P[2]
                  , x = P[3]
                  , j = P[4]
                  , H = P[5]
                  , M = void 0 === H ? 1 : H;
                return A > 360 || x > 100 || j > 100 || M < 0 || M > 1 ? null : [].concat(r(function(t, e, o) {
                    e /= 100;
                    var n = i(2 * (e *= (o /= 100) < .5 ? o : 1 - o) / (o + e) * 100)
                      , r = i(100 * (o + e));
                    return [t, n, r]
                }(A, x, j)), [M])
            }
            if (s = e.hsva.exec(t)) {
                var E = o(s)
                  , T = n(E, 6)
                  , q = T[2]
                  , L = T[3]
                  , R = T[4]
                  , V = T[5]
                  , B = void 0 === V ? 1 : V;
                return q > 360 || L > 100 || R > 100 || B < 0 || B > 1 ? null : [q, L, R, B]
            }
            return null
        }
        ;
        var i = Math.round
          , a = Math.min
          , s = Math.max;
        function u(t, e, o) {
            t = t / 360 * 6,
            e /= 100,
            o /= 100;
            var n = Math.floor(t)
              , r = t - n
              , a = o * (1 - e)
              , s = o * (1 - r * e)
              , u = o * (1 - (1 - r) * e)
              , l = n % 6
              , c = [u, o, o, s, a, a][l]
              , p = [a, a, u, o, o, s][l];
            return [i(255 * [o, s, a, a, u, o][l]), i(255 * c), i(255 * p)]
        }
        function l(t, e, o) {
            var n, r = void 0, u = void 0, l = a(t /= 255, e /= 255, o /= 255), c = s(t, e, o), p = c - l;
            if (n = c,
            0 === p)
                r = u = 0;
            else {
                u = p / c;
                var h = ((c - t) / 6 + p / 2) / p
                  , f = ((c - e) / 6 + p / 2) / p
                  , v = ((c - o) / 6 + p / 2) / p;
                t === c ? r = v - f : e === c ? r = 1 / 3 + h - v : o === c && (r = 2 / 3 + f - h),
                r < 0 ? r += 1 : r > 1 && (r -= 1)
            }
            return [i(360 * r), i(100 * u), i(100 * n)]
        }
    }
    , function(t, e, o) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
            function t(t, e) {
                for (var o = 0; o < e.length; o++) {
                    var n = e[o];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, o, n) {
                return o && t(e.prototype, o),
                n && t(e, n),
                e
            }
        }()
          , r = function(t) {
            if (t && t.__esModule)
                return t;
            var e = {};
            if (null != t)
                for (var o in t)
                    Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
            return e.default = t,
            e
        }(o(0));
        var i = function() {
            function t(e) {
                !function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t);
                var o = {
                    onchange: void 0,
                    className: ""
                };
                this.options = Object.assign(o, e),
                this._ontap = this._ontap.bind(this),
                r.on(this.options.elements, "click", this._ontap)
            }
            return n(t, [{
                key: "_ontap",
                value: function(t) {
                    var e = this.options;
                    e.elements.forEach(function(t) {
                        return t.classList.remove(e.className)
                    }),
                    t.target.classList.add(e.className),
                    "function" == typeof e.onchange && e.onchange()
                }
            }, {
                key: "enable",
                value: function() {
                    r.on(this.options.elements, "click", this._ontap())
                }
            }, {
                key: "disable",
                value: function() {
                    r.on(this.options.elements, "click", this._ontap())
                }
            }]),
            t
        }();
        e.default = i
    }
    , function(t, e, o) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
            function t(t, e) {
                for (var o = 0; o < e.length; o++) {
                    var n = e[o];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, o, n) {
                return o && t(e.prototype, o),
                n && t(e, n),
                e
            }
        }()
          , r = function(t) {
            if (t && t.__esModule)
                return t;
            var e = {};
            if (null != t)
                for (var o in t)
                    Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
            return e.default = t,
            e
        }(o(0));
        var i = function() {
            function t(e) {
                !function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t);
                var o = {
                    lockX: !1,
                    lockY: !1,
                    onchange: void 0
                };
                this.options = Object.assign(o, e);
                var n = Object.getOwnPropertyNames(Object.getPrototypeOf(this))
                  , i = !0
                  , a = !1
                  , s = void 0;
                try {
                    for (var u, l = n[Symbol.iterator](); !(i = (u = l.next()).done); i = !0) {
                        var c = u.value;
                        "_" === c.charAt(0) && "function" == typeof this[c] && (this[c] = this[c].bind(this))
                    }
                } catch (t) {
                    a = !0,
                    s = t
                } finally {
                    try {
                        !i && l.return && l.return()
                    } finally {
                        if (a)
                            throw s
                    }
                }
                r.on([this.options.wrapper, this.options.element], "mousedown", this._tapstart),
                r.on([this.options.wrapper, this.options.element], "touchstart", this._tapstart, {
                    passive: !1
                })
            }
            return n(t, [{
                key: "_tapstart",
                value: function(t) {
                    r.on(document, ["mouseup", "touchend", "touchcancel"], this._tapstop),
                    r.on(document, ["mousemove", "touchmove"], this._tapmove),
                    this._tapmove(t),
                    t.preventDefault()
                }
            }, {
                key: "_tapmove",
                value: function(t) {
                    var e = this.options.wrapper
                      , o = this.options.element
                      , n = e.getBoundingClientRect()
                      , r = void 0
                      , i = void 0;
                    if (t) {
                        var a = t && t.touches && t.touches[0];
                        r = t ? (a || t).clientX : 0,
                        i = t ? (a || t).clientY : 0,
                        r < n.left ? r = n.left : r > n.left + n.width && (r = n.left + n.width),
                        i < n.top ? i = n.top : i > n.top + n.height && (i = n.top + n.height),
                        r -= n.left,
                        i -= n.top
                    } else
                        this.cache ? (r = this.cache.x,
                        i = this.cache.y) : (r = 0,
                        i = 0);
                    "function" == typeof this.options.onchange && this.options.onchange(r, i),
                    this.options.lockX || (o.style.left = r - o.offsetWidth / 2 + "px"),
                    this.options.lockY || (o.style.top = i - o.offsetHeight / 2 + "px"),
                    this.cache = {
                        x: r,
                        y: i
                    }
                }
            }, {
                key: "_tapstop",
                value: function() {
                    r.off(document, ["mouseup", "touchend", "touchcancel"], this._tapstop),
                    r.off(document, ["mousemove", "touchmove"], this._tapmove)
                }
            }, {
                key: "trigger",
                value: function() {
                    this._tapmove()
                }
            }, {
                key: "update",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                      , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      , o = this.options.wrapper.getBoundingClientRect();
                    this._tapmove(new MouseEvent("mousemove",{
                        clientX: o.left + t,
                        clientY: o.top + e
                    }))
                }
            }]),
            t
        }();
        e.default = i
    }
    , function(t, e, o) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        }),
        e.HSVaColor = void 0;
        var n = function() {
            function t(t, e) {
                for (var o = 0; o < e.length; o++) {
                    var n = e[o];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, o, n) {
                return o && t(e.prototype, o),
                n && t(e, n),
                e
            }
        }()
          , r = function(t) {
            if (t && t.__esModule)
                return t;
            var e = {};
            if (null != t)
                for (var o in t)
                    Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
            return e.default = t,
            e
        }(o(1));
        e.HSVaColor = function() {
            function t() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                  , o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                  , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                  , r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
                !function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t),
                this.h = e,
                this.s = o,
                this.v = n,
                this.a = r
            }
            return n(t, [{
                key: "toHSVA",
                value: function() {
                    var t = [this.h, this.s, this.v, this.a];
                    return t.toString = function() {
                        return "hsva(" + this[0] + ", " + this[1] + "%, " + this[2] + "%, " + this[3] + ")"
                    }
                    ,
                    t
                }
            }, {
                key: "toHSLA",
                value: function() {
                    var t = r.hsvToHsl(this.h, this.s, this.v).concat([this.a]);
                    return t.toString = function() {
                        return "hsla(" + this[0] + ", " + this[1] + "%, " + this[2] + "%, " + this[3] + ")"
                    }
                    ,
                    t
                }
            }, {
                key: "toRGBA",
                value: function() {
                    var t = r.hsvToRgb(this.h, this.s, this.v).concat([this.a]);
                    return t.toString = function() {
                        return "rgba(" + this[0] + ", " + this[1] + ", " + this[2] + ", " + this[3] + ")"
                    }
                    ,
                    t
                }
            }, {
                key: "toHEX",
                value: function() {
                    var t = r.hsvToHex(this.h, this.s, this.v);
                    return t.toString = function() {
                        return "#" + this.join("").toUpperCase()
                    }
                    ,
                    t
                }
            }, {
                key: "toCMYK",
                value: function() {
                    var t = r.hsvToCmyk(this.h, this.s, this.v);
                    return t.toString = function() {
                        this[0],
                        this[1],
                        this[2],
                        this[3]
                    }
                    ,
                    t
                }
            }, {
                key: "clone",
                value: function() {
                    return new t(this.h,this.s,this.v,this.a)
                }
            }]),
            t
        }()
    }
    , , , function(t, e, o) {}
    , function(t, e, o) {
        "use strict";
        var n = function() {
            function t(t, e) {
                for (var o = 0; o < e.length; o++) {
                    var n = e[o];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, o, n) {
                return o && t(e.prototype, o),
                n && t(e, n),
                e
            }
        }();
        o(7);
        var r = c(o(0))
          , i = c(o(1))
          , a = o(4)
          , s = l(o(3))
          , u = l(o(2));
        function l(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function c(t) {
            if (t && t.__esModule)
                return t;
            var e = {};
            if (null != t)
                for (var o in t)
                    Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
            return e.default = t,
            e
        }
        function p(t) {
            if (Array.isArray(t)) {
                for (var e = 0, o = Array(t.length); e < t.length; e++)
                    o[e] = t[e];
                return o
            }
            return Array.from(t)
        }
        var h = function() {
            function t(e) {
                !function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t);
                var o = {
                    components: {
                        output: {}
                    },
                    default: "fff",
                    onChange: function() {},
                    onSave: function() {}
                };
                this.options = Object.assign(o, e);
                var n = Object.getOwnPropertyNames(Object.getPrototypeOf(this))
                  , r = !0
                  , i = !1
                  , s = void 0;
                try {
                    for (var u, l = n[Symbol.iterator](); !(r = (u = l.next()).done); r = !0) {
                        var c = u.value;
                        "_" === c.charAt(0) && "function" == typeof this[c] && (this[c] = this[c].bind(this))
                    }
                } catch (t) {
                    i = !0,
                    s = t
                } finally {
                    try {
                        !r && l.return && l.return()
                    } finally {
                        if (i)
                            throw s
                    }
                }
                this.root = this._buildRoot(),
                this.inputActive = !1,
                this.color = new a.HSVaColor,
                this.lastColor = new a.HSVaColor,
                this._rePositioningPicker(!0),
                this._buildComponents(),
                this._bindEvents(),
                this.setColor(this.options.default),
                this.hide()
            }
            return n(t, [{
                key: "_buildRoot",
                value: function() {
                    "string" == typeof this.options.el && (this.options.el = document.querySelector(this.options.el));
                    var t, e, o, n, i = this.options.el, a = (t = this.options.components,
                    e = function(t) {
                        return t ? "" : 'style="display:none" hidden'
                    }
                    ,
                    o = r.createElementFromString('\n         <div class="color-picker">\n    \n            <div class="button"></div>\n\n            <div class="app">\n                <div class="selection">\n                    <div class="color-preview" ' + e(t.preview) + '>\n                        <div class="last-color"></div>\n                        <div class="current-color"></div>\n                    </div>\n                \n                    <div class="color-palette">\n                        <div class="picker"></div>\n                        <div class="palette"></div>\n                    </div>\n    \n                    <div class="color-chooser" ' + e(t.hue) + '>\n                        <div class="picker"></div>\n                        <div class="hue slider"></div>\n                    </div>\n                    \n                     <div class="color-opacity" ' + e(t.opacity) + '>\n                        <div class="picker"></div>\n                        <div class="opacity slider"></div>\n                    </div>\n                </div>\n    \n                <div class="output" ' + e(t.output) + '>\n                    <input class="result" type="text" spellcheck="false" ' + e(t.output.input) + '>\n                    \n                    <input class="type" data-type="HEX" value="HEX" type="button" ' + e(t.output.hex) + '>\n                    <input class="type" data-type="RGBA" value="RGBa" type="button" ' + e(t.output.rgba) + '>\n                    <input class="type" data-type="HSLA" value="HSLa" type="button" ' + e(t.output.hsla) + '>\n                    <input class="type" data-type="HSVA" value="HSVa" type="button" ' + e(t.output.hsva) + '>\n                    <input class="type" data-type="CMYK" value="CMYK" type="button" ' + e(t.output.cmyk) + '>\n                    \n                    <input class="save" value="Save" type="button">\n                </div>\n            </div>\n      \n        </div>\n    '),
                    n = {
                        root: o,
                        button: o.querySelector(".button"),
                        app: o.querySelector(".app "),
                        input: {
                            options: o.querySelectorAll(".app .output .type"),
                            result: o.querySelector(".app .output .result"),
                            save: o.querySelector(".app .output .save"),
                            type: function() {
                                return o.querySelector(".app .output .type.active")
                            }
                        },
                        preview: {
                            lastColor: o.querySelector(".app .color-preview .last-color"),
                            currentColor: o.querySelector(".app .color-preview .current-color")
                        },
                        palette: {
                            picker: o.querySelector(".app .color-palette .picker"),
                            palette: o.querySelector(".app .color-palette .palette")
                        },
                        hueSlider: {
                            picker: o.querySelector(".app .color-chooser .picker"),
                            slider: o.querySelector(".app .color-chooser .hue.slider")
                        },
                        opacitySlider: {
                            picker: o.querySelector(".app .color-opacity .picker"),
                            slider: o.querySelector(".app .color-opacity .opacity.slider")
                        }
                    },
                    Array.from(n.input.options).find(function(t) {
                        return !t.hidden && !t.classList.add("active")
                    }),
                    n);
                    return i.parentElement.replaceChild(a.root, i),
                    a
                }
            }, {
                key: "_buildComponents",
                value: function() {
                    var t = this
                      , e = this.options.components
                      , o = {
                        palette: new s.default({
                            element: t.root.palette.picker,
                            wrapper: t.root.palette.palette,
                            onchange: function(e, o) {
                                var n = t.color;
                                n.s = Math.round(e / this.wrapper.offsetWidth * 100),
                                n.v = Math.round(100 - o / this.wrapper.offsetHeight * 100);
                                var r = n.toRGBA().toString();
                                this.element.style.background = r,
                                this.wrapper.style.background = "\n                        linear-gradient(to top, rgba(0, 0, 0, " + n.a + "), transparent), \n                        linear-gradient(to left, hsla(" + n.h + ", 100%, 50%, " + n.a + "), rgba(255, 255, 255, " + n.a + "))\n                    ",
                                t.root.preview.currentColor.style.background = r,
                                t._updateOutput()
                            }
                        }),
                        hueSlider: new s.default({
                            lockX: !0,
                            element: t.root.hueSlider.picker,
                            wrapper: t.root.hueSlider.slider,
                            onchange: function(n, r) {
                                e.hue && (t.color.h = Math.round(r / this.wrapper.offsetHeight * 360),
                                this.element.style.backgroundColor = "hsl(" + t.color.h + ", 100%, 50%)",
                                o.palette.trigger())
                            }
                        }),
                        opacitySlider: new s.default({
                            lockX: !0,
                            element: t.root.opacitySlider.picker,
                            wrapper: t.root.opacitySlider.slider,
                            onchange: function(o, n) {
                                e.opacity && (t.color.a = Math.round(n / this.wrapper.offsetHeight * 100) / 100,
                                this.element.style.background = "rgba(0, 0, 0, " + t.color.a + ")",
                                t.components.palette.trigger())
                            }
                        }),
                        selectable: new u.default({
                            elements: t.root.input.options,
                            className: "active",
                            onchange: function() {
                                t.inputActive = !1,
                                t.components.palette.trigger()
                            }
                        })
                    };
                    this.components = o
                }
            }, {
                key: "_bindEvents",
                value: function() {
                    var t = this
                      , e = this.root;
                    r.on(e.preview.lastColor, "click", function() {
                        return t.setHSVA.apply(t, p(t.lastColor.tohsva(!0)))
                    }),
                    r.on(e.button, "click", function() {
                        return t.root.app.classList.contains("visible") ? t.hide() : t.show()
                    }),
                    r.on(e.input.save, "click", function() {
                        return t.hide()
                    }),
                    r.on(document, "mousedown", function(o) {
                        if (!r.eventPath(o).includes(e.root)) {
                            var n = function() {
                                r.off(document, "mouseup", n),
                                t.cancel()
                            }
                            .bind(t);
                            r.on(document, "mouseup", n)
                        }
                    }),
                    r.on(e.input.result, "keyup", function(e) {
                        t.setColor(e.target.value),
                        t.inputActive = !0
                    }),
                    r.on([e.palette.palette, e.palette.picker, e.hueSlider.slider, e.hueSlider.picker, e.opacitySlider.slider, e.opacitySlider.picker], "mousedown", function() {
                        return t.inputActive = !1
                    })
                }
            }, {
                key: "_rePositioningPicker",
                value: function(t) {
                    var e = this.root.button.getBoundingClientRect()
                      , o = this.root.app.getBoundingClientRect()
                      , n = this.root.app.style;
                    switch (o.bottom > window.innerHeight ? n.top = -o.height - 5 + "px" : (t || o.bottom + o.height < window.innerHeight) && (n.top = e.height + 5 + "px"),
                    this.options.position || "middle") {
                    case "left":
                        n.left = -o.width + e.width + "px";
                        break;
                    case "middle":
                        n.left = -o.width / 2 + e.width / 2 + "px";
                        break;
                    case "right":
                        n.left = "0px";
                        break;
                    default:
                        n.left = -o.width / 2 + e.width + "px"
                    }
                }
            }, {
                key: "_updateOutput",
                value: function() {
                    var t, e = this;
                    !this.inputActive && this.root.input.type() && (this.root.input.result.value = (t = "to" + e.root.input.type().getAttribute("data-type"),
                    "function" == typeof e.color[t] ? e.color[t]().toString() : "")),
                    this.options.onChange(this.color, this)
                }
            }, {
                key: "hide",
                value: function() {
                    this.root.app.classList.remove("visible");
                    var t = this.color.toRGBA().toString();
                    this.root.preview.lastColor.style.background = t,
                    this.root.button.style.background = t,
                    this.lastColor = this.color.clone(),
                    this.options.onSave(this.color, this)
                }
            }, {
                key: "cancel",
                value: function() {
                    this.root.app.classList.remove("visible")
                }
            }, {
                key: "show",
                value: function() {
                    this.root.app.classList.add("visible"),
                    this._rePositioningPicker()
                }
            }, {
                key: "setHSVA",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 360
                      , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      , o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                      , n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
                    if (!(t < 0 || t > 360 || e < 0 || e > 100 || o < 0 || o > 100 || n < 0 || n > 1)) {
                        var r = this.components.hueSlider.options.wrapper.offsetHeight * (t / 360);
                        this.components.hueSlider.update(0, r);
                        var i = this.components.opacitySlider.options.wrapper.offsetHeight * n;
                        this.components.opacitySlider.update(0, i);
                        var s = this.components.palette.options.wrapper
                          , u = s.offsetWidth * (e / 100)
                          , l = s.offsetHeight * (1 - o / 100);
                        this.components.palette.update(u, l),
                        this._updateOutput(),
                        this.color = new a.HSVaColor(t,e,o,n)
                    }
                }
            }, {
                key: "setColor",
                value: function(t) {
                    var e = i.parseToHSV(t);
                    e && this.setHSVA.apply(this, p(e))
                }
            }, {
                key: "getColor",
                value: function() {
                    return this.color
                }
            }, {
                key: "getRoot",
                value: function() {
                    return this.root
                }
            }]),
            t
        }();
        h.utils = {
            on: r.on,
            off: r.off,
            eventPath: r.eventPath,
            createElementFromString: r.createElementFromString
        },
        h.create = function(t) {
            return new h(t)
        }
        ,
        h.version = "0.0.2",
        t.exports = h
    }
    ])
});
